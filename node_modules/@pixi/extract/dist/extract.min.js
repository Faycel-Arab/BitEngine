/*!
 * @pixi/extract - v5.0.3
 * Compiled Sun, 19 May 2019 19:03:31 UTC
 *
 * @pixi/extract is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */
this.PIXI=this.PIXI||{},this.PIXI.extract=this.PIXI.extract||{};var _pixi_extract=function(e,t,r,n){"use strict";var i=new PIXI.Rectangle,a=function(e){this.renderer=e,e.extract=this};return a.prototype.image=function(e,t,r){var n=new Image;return n.src=this.base64(e,t,r),n},a.prototype.base64=function(e,t,r){return this.canvas(e).toDataURL(t,r)},a.prototype.canvas=function(e){var n,a,s,h=this.renderer,o=!1,d=!1;e&&(e instanceof t.RenderTexture?s=e:(s=this.renderer.generateTexture(e),d=!0)),s?(n=s.baseTexture.resolution,a=s.frame,o=!1,h.renderTexture.bind(s)):(n=this.renderer.resolution,o=!0,(a=i).width=this.renderer.width,a.height=this.renderer.height,h.renderTexture.bind(null));var u=a.width*n,c=a.height*n,x=new r.CanvasRenderTarget(u,c,1),I=new Uint8Array(4*u*c),l=h.gl;l.readPixels(a.x*n,a.y*n,u,c,l.RGBA,l.UNSIGNED_BYTE,I);var g=x.context.getImageData(0,0,u,c);return g.data.set(I),x.context.putImageData(g,0,0),o&&(x.context.scale(1,-1),x.context.drawImage(x.canvas,0,-c)),d&&s.destroy(!0),x.canvas},a.prototype.pixels=function(e){var r,n,a,s=this.renderer,h=!1;e&&(e instanceof t.RenderTexture?a=e:(a=this.renderer.generateTexture(e),h=!0)),a?(r=a.baseTexture.resolution,n=a.frame,s.renderTexture.bind(a)):(r=s.resolution,(n=i).width=s.width,n.height=s.height,s.renderTexture.bind(null));var o=n.width*r,d=n.height*r,u=new Uint8Array(4*o*d),c=s.gl;return c.readPixels(n.x*r,n.y*r,o,d,c.RGBA,c.UNSIGNED_BYTE,u),h&&a.destroy(!0),u},a.prototype.destroy=function(){this.renderer.extract=null,this.renderer=null},e.Extract=a,e}({},PIXI,PIXI.utils);Object.assign(this.PIXI.extract,_pixi_extract);
//# sourceMappingURL=extract.min.js.map
